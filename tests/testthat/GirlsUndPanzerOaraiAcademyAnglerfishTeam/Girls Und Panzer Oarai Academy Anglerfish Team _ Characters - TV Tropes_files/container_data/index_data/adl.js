var adlCreative=function(){return this.multi=0,this.state=0,this.time={start:0,init:0},this.readyStack=[],this.images={},this.fonts={},this.newobjects=[],this};window._$=adlCreative,_$.fn=_$.prototype,window._adl=_$,_$.fn.dur=function(){return performance.now()-this.time.start},_$.fn.getVersionData=function(a){return this.version_data[a]},_$.fn.getScenes=function(){return this.scenes},_$.fn.init=function(a){for(this.time.init=performance.now(),this.state='init',a='string'==typeof a?JSON.parse(atob(a)):a,this.reset(a),document.body.appendChild(this.stage),$(document.body).on('click',$.exit),$.log('Preparing!');this.readyStack.length;)this.readyStack.shift().call();$.log('On-Load Scripts Executed...!'),setTimeout(function(){'init'==this.state&&$.cr._ready()},3e3),this._waitforload()},_$.fn.reset=function(a){a=a||{};var b=this;if($.log('Init!'),delete b.sheet,b.sheet=$.makeSheet(),b.scene=0,b.formatid=a.formatid||'newformat',b.clickTags=a.clickTags||{main_exit:'Default Landing Page'},b.obj={},b.anims={},b.orphans={},b.version_data=a.version_data||{},b.objcount=+new Date,b.scenes=a.scenes||[{id:'_base'},{id:1,title:'Scene 1'}],b.sceneid=b.scenes.length-1,b.responsive=a.responsive||0,b.maxloops=a.maxloops||1,b.loop=0,b.endframe=a.endframe||0,b.repeat=null,b.repeatprev=null,b.obj=a.obj||{},b.cbData=a.cbData||{},b.rules={},b.weights={},$.dict=a.dict||{},a.obj){for(var c in a.obj)if(a.obj.hasOwnProperty(c)){var f=$.mkObject(c,a.obj[c]);if('adl--stage'==c&&(b.stage=f,adl(f).style(a.size)),b.orphans&&b.orphans[c]){for(var g=[],h=0;h<b.orphans[c].length;h++)f.firstChild.appendChild(b.orphans[c][h]),g.push(b.orphans[c][h].dataset.key);for(var j in g)if(g.hasOwnProperty(j)){var l=g[j];$.undef(b.obj[l].zorder)||$(b.obj[l].elnode).zorder(b.obj[l].zorder)}delete b.orphans[c]}}}else a.creative.key='adl--stage',a.creative.type='stage',b.stage=$.mkObject(a.creative);for(c in b.orphans){for(var h=0;h<b.orphans[c].length;h++)$(b.orphans[c][h]).parent('adl--stage');delete b.orphans[c]}return b.mo=0,adl(b.stage).addClass(b.formatid),adl(b.stage).on('mouseover',function(){$.cr.mo||(this.parentNode.classList.add('mouseover'),EvBus.send('mouseover')),$.cr.mo++}).on('mouseout',function(){$.cr.mo--,$.cr.mo||(this.parentNode.classList.remove('mouseover'),EvBus.send('mouseout'))}),b.stage},_$.fn._waitforload=function(){var a=document;a.fonts&&!(a.fonts.size>=Object.keys($.cr.fonts).length)||Object.keys($.cr.images).length?setTimeout($.cr._waitforload,25):$.cr._ready()},_$.fn._ready=function(){$.log('Ready!'),EvBus.send('ready'),this.state='Ready',!1!==this.autoplay&&this.run()},_$.fn.run=function(){this.time.start=performance.now(),'Ready'==this.state&&(EvBus.send('start'),$.log('Start!'),this.play())},_$.fn.addObj=function(a){this.objcount++;for(var b=a.key||'o'+_$.objcount;this.obj[b];)this.objcount++,b='o'+this.objcount;return this.obj[b]={id:b,type:a.type,title:a.title,static:a.static||0},b},_$.fn.versionData=function(a,b){return $.undef(b)?this.version_data[a]||'':void(this.version_data[a]=b)},_$.fn.getScene=function(a){return a=a||this.scene||'_base','_base'==a?{id:'_base'}:this.scenes[a]||{}},_$.fn.prop=function(a,b){return $.undef(b)?this[a]:void(this[a]=b)},_$.fn.selScene=function(a){return a=3>this.getScenes().length?'_base':a||this.scene,a},_$.fn.getSceneId=function(a){return a=a||this.scene||'_base',this.getScene(a).id},_$.fn.getObjData=function(a){return this.obj[a]},_$.fn.getObjScene=function(a,b){var c;'adl-stage'==a?c='_base':(b=b||'_base',c=this.getScene(b).id);var f=this.getObjData(a);return f.scenes=f.scenes||{},f.scenes[c]=f.scenes[c]||{},f.scenes[c]},_$.fn.goto=function(a){this.scene=a,this.stage.dataset.scene&&adl(this.stage.parentNode).rmClass('adl-scene-'+this.stage.dataset.scene),null!==this.repeatprev&&(adl(this.stage).addClass('no-animation'),adl(this.stage.parentNode).addClass('adl-scene-'+this.repeatprev),void this.stage.offsetWidth,adl(this.stage.parentNode).rmClass('adl-scene-'+this.repeatprev),adl(this.stage).rmClass('no-animation'));var b=this.scenes[a].id;this.stage.dataset.scene=b,adl(this.stage.parentNode).addClass('adl-scene-'+b),EvBus.send({type:'scene',scene:a}),$.log('Scene: '+a)},_$.fn.play=function(a){if(this.stage.style.visibility='visible','end'===this.state)return void this.end();this.state='playing',a=a||1;var b=this.scenes[a];if(b){var c=b.dur||3,f=b.then||'next';'repeat'==f?null===this.repeat?(this.repeatprevx=this.scene,a==this.scene&&(this.repeatprevx=0),$.undef(b.repeat)&&(b.repeat=1),this.repeat=parseInt(b.repeat)):'number'==typeof this.repeat&&(this.repeatprev=this.repeatprevx,1==this.repeat?(f=b.repeatthen||'next',this.repeat=null):this.repeat--):this.repeatprev=null;var g,h=this.scenes[a].id;null===this.repeat&&(h==this.endframe||!this.endframe&&a==this.scenes.length-1)&&this.maxloops&&(this.loop++,this.prop('loop')>=this.prop('maxloops')&&(f='end'));var j;if('goto'==f&&b.goto)for(var l=1;l<this.scenes.length;l++)if(this.scenes[l].id==b.goto){var j=l;break}var m=this;switch(f){case'stop':break;case'end':case'loop':setTimeout(function(){m.doLoop()},1e3*c);break;case'next':g=a+1;case'goto':g=parseInt(g||j||this.scenes.length-1),this.scenes[g]?setTimeout(function(){m.play(g)},1e3*c):setTimeout(function(){m.doLoop()},1e3*c);break;case'repeat':setTimeout(function(){m.play(a)},1e3*c);break;default:setTimeout(function(){m.doLoop()},1e3*c);}}else $.log('NO SCENE');this.goto(a)},_$.fn.stop=function(){this.state='stop',EvBus.send('stop'),$.log('Stop!')},_$.fn.end=function(){this.state='end',EvBus.send('end'),$.log('End!')},_$.fn.doLoop=function(){0==this.maxloops||this.loop<this.maxloops?(EvBus.send('loop'),$.log('Loop!'),this.play(1)):this.end()};var adl=function(b){return new adlayer(b)},adlayer=function(b){var f=this;if(!(f instanceof adlayer))return new adlayer(b);if(f.length=0,f.nodes=[],b instanceof HTMLElement?f.nodes=[b]:b instanceof NodeList?f.nodes=1<b.length?[].slice.call(b):[b]:'string'==typeof b&&(f.nodes=[].slice.call(document.querySelectorAll(b))),f.nodes.length){f.length=this.nodes.length;for(var g=0;g<f.nodes.length;g++)f[g]=f.nodes[g]}return f};adl.fn=adlayer.prototype,window.adl=adl,window.$=adl,'undefined'!=typeof adlCreative&&($.cr=new adlCreative),$.ctstyles=['border-style','border-color','border-width','border-radius','padding','background-color','opacity'],$.dict={},$.ruleIndex={obj:'',ct:'>.adl-obj-content'},$.isIE=function(){return'Microsoft Internet Explorer'==navigator.appName||!!(navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/rv:11/))||!1},$.fn.map=function(b){for(var f=[],g=0;g<this.length;g++)f.push(b.call(this[g],this,g));return f},$.fn.each=function(b){return this.map(b),this},$.fn.el=function(b,f){if(!b)return this[0];else if(!$.undef(f))this[0][b]=f;else return this[0][b]},$.fn.copyEl=function(b,f){return f=f||!1,this.each(function(){b.appendChild(this.cloneNode(f))})},$.get=function(b){return $.cr.obj[b]?adl('.adl-obj[data-key="'+b+'"]'):adl(b)},$.select=function(b){return'#'==b[0]?document.getElementById(b.substr(1)):adl(b)[0]},$.fn.rmEl=function(){return this.remove()},$.fn.remove=function(){return this.each(function(){var b=this.dataset.key;b?$.cr.removeObject(b):this.parentNode.removeChild(this)})},$.fn.parent=function(b){if($.undef(b))return $.getObj(this[0].parentNode);var f,g;if('number'!=typeof b&&'string'!=typeof b)b instanceof HTMLElement&&(f=adl(b),g=f.key(),this[0].dataset.group=g);else if(b=parseInt(b)||b,f=$.get(b),g=b,this[0].dataset.group=g,!f.length){var h=$.cr.getObjData(b,1);if(h&&h.elnode)f=adl(h.elnode);else return $.cr.orphans[b]||($.cr.orphans[b]=[]),$.cr.orphans[b].push(this[0]),this}return f.length&&f[0].firstChild.appendChild(this[0]),this},$.fn.children=function(b){if(!$.undef(b)){for(var f in b)if(b.hasOwnProperty(f)){b[f].key=f;var g=$.mkObject(b[f]);g.dataset.group=this[0].id,this[0].firstChild.appendChild(g)}}else return-1<['group','stage','container'].indexOf(this.type())?this.ctNode(1).childNodes:[]},$.fn.find=function(b){var f=this.map(function(){return[].slice.call(this.querySelectorAll(b))}),g=adl();if(f.forEach(function(j){j.forEach(function(k){g.nodes.push(k)})}),g.nodes.length){g.length=g.nodes.length;for(var h=0;h<g.nodes.length;h++)g[h]=g.nodes[h]}return g},$.fn.on=function(b,f,g){return g=g||!1,this.each(function(){this.addEventListener(b,f,g)})},$.fn.off=function(b,f,g){return g=g||!1,this.each(function(){this.removeEventListener(b,f,g)})},$.cssify=function(b){return b.replace(/([a-z])([A-Z])/g,'$1-$2').toLowerCase()},$.undef=function(b){return'undefined'==typeof b},$.log=function(){},$.fn.key=function(){return this[0].dataset.key},$.mkKey=function(){return+new Date},$.fn.type=function(b){if($.undef(b)){var f=this.key();return f?$.cr.obj[f].type:this[0].dataset.type||'unknown'}return this.each(function(){$.cr.obj[adl(this).key()].type=b})},$.mkEl=function(b){return b=b||'div',document.createElement(b)},$.mkObject=function(b,f){var g=f.type;if($.cr.obj[b]={},g&&'function'==typeof $.fn['mkObj_'+g]){var h=$.mkEl('div');$.cr.obj[b].elnode=h,h.dataset.key=b;var j=adl(h);return j.addClass('adl-obj adl-obj-'+g+' adl-obj-'+b),$.fn['mkObj_'+g](j),'adl--stage'!==b&&(f.parent=f.parent||'adl--stage',$.cr.versionData(b)&&(f[g]=$.cr.versionData(b))),this.build(j,f),h}return $.log('Error! Unknown object type: '+f.type),!1},$.build=function(b,f){for(var g in f.parent&&b.parent(f.parent),f)if(f.hasOwnProperty(g)&&'parent'!==g){var h=f[g];'function'==typeof b[g]?b[g](h):$.log('Error! Unknown parameter: '+g)}},$.fn.ctNode=function(b){var f=this[0].firstChild;return b?f:adl(f)},$.getObj=function(b){if(adl(b).hasClass('adl-creative'))return!1;for(;b&&!adl(b).hasClass('adl-obj');){if(!b.parentNode)return!1;b=b.parentNode}return b},$.getObjRule=function(b,f){var g=$.getSheets(b,f,1);if(!g.obj){var h=$.cr.getScene(f).id,j=$.mkSel(h,b,1);g.obj=$.mkCSS(j,{})}return g.obj},$.fn.isactive=function(b,f,g){this.sceneData('isactive',b,g)},$.fn.sceneData=function(b,f,g){if(g=g||$.cr.scene,$.undef(f)){var h=$.cr.getObjScene(this.key(),g,1);return'isactive'==b?'n'==h[b]?'n':'y':h[b]}return g?this.each(function(){var j=adl(this);if('stage'!=j.type()){var k=j.key(),l=$.cr.getObjScene(k,g,1);if(l[b]=f,'isactive'==b){var m=$.getObjRule(k,g);m.style.display='n'==f?'none':''}}}):this},$.fn.id=function(b,f){var g=$.cr.obj;return('id'!==b&&(f=b),$.undef(f))?this.key()?g[this.key()].id||'undefined':this[0].id:(this[0].id=f,g[this.key()].id=f,this)},$.fn.data=function(b,f){if($.undef(f)&&'string'==typeof b){var g=$.cr.getObjData([this.key()]);return g.data?g.data[b]||'':''}var h={};return'object'==typeof b?h=b:h[b]=f,this.each(function(){var k,j=adl(this);if(j.hasClass('adl-obj')){var l=$.cr.getObjData([j.key()]);l.data=l.data||{},k=l.data}else j.hasClass('cb--scene')&&(k=$.cr.getScenes()[j.data('scene')]);for(var m in h)k&&(k[m]=h[m]),this.dataset[m]=h[m]})},$.fn.style=function(b,f,g,h){g=g||$.cr.scene,(!g||$.cr.multi&&3>$.cr.getScenes().length)&&(g='_base');var j='obj';if($.undef(f)&&'string'==typeof b){var k=this.key();if('adl--stage'==k&&-1<b.indexOf('border')&&'borderRadius'!==b)j='curtain';else if('adl--stage'==k)j='ct';else{var l=b.split('_');1<l.length&&(j=l[0],b=l[1]),'obj'==j&&-1<$.ctstyles.indexOf($.cssify(b))&&(j='ct')}var m=this.getRule(j,g),q=$.select(m.selectorText);if(!q);else return''===m.style[b]?getComputedStyle(q,h)[b]:m.style[b]}else{var r={};return $.undef(f)||'string'!=typeof b?r=b:r[b]=f,this.each(function(){var w=adl(this),z=w.key();for(var A in r)if(r.hasOwnProperty(A)){var B=r[A],C='obj',D=A.split('_');1<D.length?(C=D[0],A=D[1]):'obj'==C&&-1<$.ctstyles.indexOf($.cssify(A))&&(C='ct');var E=w.getRule(C,g);if(A=$.dict[A]||A,'adl--stage'==z){if('top'==A||'left'==A)continue;-1<A.indexOf('border')&&(w.getRule('curtain').style[A]=B),0>A.indexOf('border')||'borderRadius'==A?w.getRule('ct').style[A]=B:-1<['width','height'].indexOf(A)&&(w.getRule('obj').style[A]=B)}else{if(-1<['animation','transform'].indexOf(A))try{E.style['-webkit-'+A]=B}catch(F){}E.style[A]=B}}})}},$.fn.getRule=function(b,f,g){var h=this.key();f='adl--stage'==h||!g&&-1<$.cr.newobjects.indexOf(parseInt(h))?'_base':f||'_base',$.ruleIndex[b]||(b='obj');var j=$.getSheets(h,f,g);if(!j[b]){var h=this.key(),k=$.cr.getScene(f).id,l=$.mkSel(k,h,g);l+=$.ruleIndex[b],j[b]=$.mkCSS(l,{})}return j[b]},$.getSheets=function(b,f,g){var h=$.cr.getObjScene(b,f,g);return h.rules||(h.rules={}),h.rules},$.mkSel=function(b,f,g){var h='';return'_base'!=b&&'adl--stage'!==f&&(h='.adl-scene-'+b+' '),$.cr.format&&(g||0>$.cr.newobjects.indexOf(parseInt(f))&&1<Object.keys($.cr.formats).length)&&(h+='.adl-format.adl-format-'+$.cr.format),h&&'adl--stage'!=f&&(h+=' '),h+='.adl-obj-'+f,h},$.fn.addClass=function(b){var f=b.split(' ');return this.each(function(){var g=this;f.forEach(function(h){g.classList.add(h)})})},$.fn.rmClass=function(b){var f=b.split(' ');return this.each(function(){var g=this;f.forEach(function(h){g.classList.remove(h)})})},$.fn.hasClass=function(b){return this[0].classList.contains(b)},$.fn.toggleClass=function(b){var f=b.split(' ');return this.each(function(){var g=this;f.forEach(function(h){g.classList.toggle(h)})})},$.mkCSS=function(b,f){var g=$.cr.sheet;if('object'==typeof f){var h='',j='';for(var k in f){var l=$.cssify(k),m=l.replace(/transform/g,'-webkit-transform');m=m.replace(/animation/g,'-webkit-animation'),j+=m+': '+f[k]+';',j+=l+': '+f[k]+';',h+=l+': '+f[k]+';'}var q=b+' {'+j+'}';try{g.insertRule(q,g.cssRules.length)}catch(r){q=b+' {'+h+'}',g.insertRule(q,g.cssRules.length)}}else f=f||'',q=b+' {'+f+'}',g.insertRule(q,g.cssRules.length);return $.cr.sheet.cssRules[$.cr.sheet.cssRules.length-1]},$.fn.css=function(b,f){$.undef(f)||(f=':'+f),f=f||'',this.each(function(){$.mkCSS('#'+this.id+f+'>div',b)})},$.fn.transform=function(b,f,g){g=$.cr.selScene(g);var h,j=$.untrf(this.style('transform',h,g)),k=b.slice(-1);if(b=b.slice(0,-1),$.undef(f)){if(!$.undef(j[b])&&!$.undef(j[b][k]))return j[b][k];var j=$.untrf(this.style('transform',h,'_base'));if(!$.undef(j[b])&&!$.undef(j[b][k]))return j[b][k];var l=$.cr.format;$.cr.format=0;var j=$.untrf(this.style('transform',h,g));if($.cr.format=l,!$.undef(j[b])&&!$.undef(j[b][k]))return j[b][k];$.cr.format=0;var j=$.untrf(this.style('transform',h,'_base'));return $.cr.format=l,$.undef(j[b])||$.undef(j[b][k])?0:j[b][k]}for(var m in j[b]=j[b]||{},j[b][k]=f,f='',j)for(var q in j[m])f+=m+q+'('+j[m][q]+') ';this.style('transform',f,g)},$.untrf=function(b){var f={};if(b&&0>b.indexOf('matrix')&&b.indexOf('none')){b=b.split(' ');for(var g=0;g<b.length;g++){var h=b[g].split('('),j=h[1].split(')')[0],k=h[0].slice(-1);h=h[0].slice(0,-1),f[h]=f[h]||{},f[h][k]=j}}return f},$.fn.shift=function(b,f){return this.each(function(){_this=adl(this);var g=_this.key();if('adl--stage'!=g)for(s=0;s<$.cr.getScenes().length;s++){var h=_this.getRule('obj',s);$.undef(h.style.left)||(h.style.left=$.pixPerc(h.style.left,b,this.parentNode.offsetWidth)),$.undef(h.style.top)||(h.style.top=$.pixPerc(h.style.top,f,this.parentNode.offsetHeight))}})},$.fn.rect=function(){var b=getComputedStyle(this[0]);return{x:b.left,y:b.top,width:b.width,height:b.height}},$.pixPerc=function(b,f,g){if(-1<b.indexOf('%')){b=parseFloat(b);var h=parseFloat(g),j=h*(b/100);return j+=f,100*(j/h)+'%'}return parseFloat(b)+f+'px'},$.fn.pos=function(b,f){if($.undef(b)&&$.undef(f)){var b=getComputedStyle(this[0]).left,f=getComputedStyle(this[0]).top;return{x:b,y:f}}'object'==typeof b&&$.undef(f)&&(b.x||b.y)&&(f=b.y,b=b.x),(b||0==b)&&this.style('left',b),(f||0==f)&&this.style('top',f)},$.fn.zorder=function(b,f){return'number'!=typeof b&&$.undef(f)?!1:this.each(function(){var g=this.parentNode;if('number'==typeof b&&($.cr.getObjData(this.dataset.key).zorder=b),!!g)switch(b){case'bottom':g.insertBefore(this,g.firstChild);break;case'down':this.previousSibling&&g.insertBefore(this,this.previousSibling);break;case'up':this.nextSibling&&(this.nextSibling.nextSibling?g.insertBefore(this,this.nextSibling.nextSibling):g.appendChild(this));break;case'top':g.appendChild(this);break;default:this.dataset.z=b;for(var h=g.firstChild,j=0;h&&!j;)parseInt(h.dataset.z)>parseInt(b)?(g.insertBefore(this,h),j=!0):h=h.nextSibling;j||g.appendChild(this);}})},$.fn.anim=function(b,f,g){if(g=g||$.cr.scene,'string'==typeof b&&$.undef(f)){var h=$.cr.getObjScene(this.key(),g,1);return h&&h.anim&&(h.anim[b]||!1)}return this.each(function(){var j=adl(this),k=j.key(),l=$.cr.getObjScene(k,g,1);if(l.anim=l.anim||{},'object'==typeof b)for(var m in b)b.hasOwnProperty(m)&&(l.anim[m]=b[m]);else l.anim[b]=f;var q=$.getObjRule(k,g).style,r='',w='';if(l.anim.pst&&'none'!==l.anim.pst){var z=(l.anim.dur||1)+'s '+(l.anim.ease||'ease')+' '+(l.anim.delay||0)+'s';if('tween'==l.anim.pst)r='none',w='all '+z;else{var A=$.buildKeyframes(l.anim);w='none',r=A+' '+z+' both'}}q['-webkit-animation']=r,q['-webkit-transition']=w,q.animation=r,q.transition=w})},$.hash=function(b){var f=0;if(0==b.length)return f;for(var h,g=0;g<b.length;g++)h=b.charCodeAt(g),f=(f<<5)-f+h,f&=f;return Math.abs(f)},$.buildKeyframes=function(b){var f=$.animations,g;g=b.pst&&f&&f[b.pst]?f[b.pst]:b;var h=g.keyframes;if(h){var j='';for(var k in h)if(h.hasOwnProperty(k)){var l='';for(var m in h[k])if(h[k].hasOwnProperty(m)){var q=h[k][m];if('string'==typeof q&&g.vars){var r=b.varx||Object.keys(g.vars)[0];for(var w in g.vars[r])g.vars[r].hasOwnProperty(w)&&(q=q.replace(w,g.vars[r][w]));g.params.vary&&($.undef(b.vary)&&(b.vary=g.params.vary.value),q=q.replace(/_Y/g,b.vary)),g.params.varz&&($.undef(b.varz)&&(b.varz=g.params.varz.value),q=q.replace(/_Z/g,b.varz))}l+=m+': '+q+'; '}j+=k+' {'+l+'} '}var z='anim'+$.hash(j);$.cr.anims[z]||($.cr.anims[z]=j,$.mkKeyframes(z,j))}return z},$.mkKeyframes=function(b,f){var g='';if('string'!=typeof f)for(var h in f)g+=h+' {'+f[h]+'} ';else g=f;var j='@keyframes '+b+' {'+g+'}';try{$.cr.sheet.insertRule(j,$.cr.sheet.cssRules.length)}catch(k){}g=g.replace(/transform/g,'-webkit-transform'),g=g.replace(/animation/g,'-webkit-animation');var j='@-webkit-keyframes '+b+' {'+g+'}';try{$.cr.sheet.insertRule(j,$.cr.sheet.cssRules.length)}catch(k){}},$.fn.scene=function(b,f,g){g=g||$.cr.scene;var h=$.cr.getScenes();g>h.length&&(g=h.length);var j=h[g];if('string'==typeof b&&$.undef(f))return j[b]||'';if('object'==typeof b){for(var k in b)b.hasOwnProperty(k)&&(j[k]=b[k]);return this}j[b]=f},$.fn.scenes=function(b){var f=this.key();if(Array.isArray(b)){var g=Object.keys(b),h={};for(var j in g)j.hasOwnProperty(j)&&(h[j]=b[j]);b=h}$.cr.getObjData(f,!0).scenes=b;var k=$.cr.getScenes();for(var l in k)if(k.hasOwnProperty(l)){var m=k[l].id;if(b[m])for(var q in b[m])'function'==typeof this[q]&&this[q](b[m][q],!0,l)}return this},$.fn.clicktag=function(b,f){return b=b||'main_exit',$.undef(f)?$.cr.versionData(b)||'':void $.cr.versionData(b,f)},$.exit=function(b){'string'!=typeof b&&(b=!1),b=b||'main_exit',b=$.cr.versionData(b)||'',$.log('Exit to: '+b),$.cr.stop(),$.adserver.exit(b)},$.fn.scripts=function(b){return this.each(function(){var f=adl(this);if('scene'==f.type());else{var g=f.key(),h=$.cr.obj[g];for(var j in h.scripts=h.scripts||{},b){var k=atob(b[j]).trim();if(k.length)if('__adlready'==j){var l='_this=adl(\'#'+f.id()+'\');_stage=adl($.cr.stage);'+k;$.cr.readyStack.push(new Function(l))}else{var l='e.stopPropagation();_this=adl(this);_stage=adl($.cr.stage);'+k;h.scripts[j]=new Function('e',l),f.on(j,h.scripts[j])}}}})},$.addCtNode=function(b){var f=$.mkEl();b.el().appendChild(f),adl(f).addClass('adl-obj-content')},$.fn.mkObj_stage=function(b){b.addClass('adl--stage'),$.addCtNode(b);var f=$.mkEl();f.className='adl--stage-curtain',b.el().appendChild(f),$.ruleIndex.stage='',$.ruleIndex.curtain='>.adl--stage-curtain'},$.fn.adlcls=function(b,f){var g;if('string'==typeof b&&$.undef(f)){var h=this.key();return g=$.cr.getObjData(h).adlcls,g=g||{},g[b]||!1}var j;return'string'==typeof b&&'string'==typeof f?(j=f,f={},f[b]=j):f=b,this.each(function(){var k=adl(this),l=k.key(),m=$.cr.getObjData(l);for(var q in m.adlcls=m.adlcls||{},f)f.hasOwnProperty(q)&&(j=m.adlcls[q],j&&k.rmClass('adl-'+j),m.adlcls[q]=f[q],k.addClass('adl-'+m.adlcls[q]))})},$.fn.mkObj_group=function(b){$.addCtNode(b)},$.fn.mkObj_container=function(b){$.addCtNode(b)},$.fn.flow=function(b,f){if('flow'==b&&(b=f),$.undef(b)){var g=this.key();return $.cr.obj[g].flow||'absolute'}return this.each(function(){_this=adl(this);var h=_this.key();$.cr.obj[h].flow=b,_this.rmClass('adl-inline adl-relative'),-1<['inline','relative'].indexOf(b)&&_this.addClass('adl-'+b)})},$.fn.textaa=function(b,f){if('textaa'==b&&(b=f),$.undef(b)){var g=this.key();return $.cr.obj[g].textaa||'auto'}return this.each(function(){_this=adl(this);var h=_this.key();$.cr.obj[h].textaa=b,'auto'==b?_this.rmClass('adl-textaa'):_this.addClass('adl-textaa')})},$.fn.addChild=function(b){var f=this.type();if(0>['stage','group','container'].indexOf(f))return!1;for(var k,g=0,h=0,j=this[0];'adl--stage'!=j.dataset.key;)k=getComputedStyle(j),g+=parseInt(k.left),h+=parseInt(k.top),j=j.parentNode.parentNode;var l=adl(b).ungroup();return l.data('group',this.key()),this.el().firstChild.appendChild(b),l.shift(-g,-h),this},$.fn.ungroup=function(){return this.each(function(){var b=adl(this),f=this.parentNode.parentNode,g=f.dataset.key;if('adl--stage'!=g){b.data('group',adl(f).data('group'));var h=getComputedStyle(f),j=parseInt(h.left||0),k=parseInt(h.top||0);return f.parentNode.insertBefore(this,f),b.shift(j,k),b.ungroup()}})},$.fn.mkObj_text=function(b){$.ruleIndex.txt=' .adl-text',b.el().innerHTML='<div class="adl-text-boxw adl-obj-content"><div class="adl-text-box"><p class="adl-text"></p></div></div>'},$.fn.mkObj_btext=function(b){$.ruleIndex.btxt='.adl-btext',b.addClass('adl-btext')},$.fn.textNode=function(b){var f=this[0].firstChild.firstChild.firstChild;return b?f:adl(f)},$.fn.textObj=function(b){var f=this[0].firstChild.firstChild;return b?f:adl(f)},$.fn.btext=function(b,f){this.text(b,f)},$.fn.text=function(b,f){if('text'!=b&&'btext'!=b&&(f=b),$.undef(f))return $.cr.versionData(this.key());var g;return this.each(function(){g=adl(this);var h=g.key();switch(g.type()){case'text':$.cr.versionData(h,f),g.textNode(1).innerHTML=f;break;case'btext':$.cr.versionData(h,f),this.innerHTML=f;}}),this},$.fn.font=function(b){if($.undef(b))return this.style('fontFamily');if(b.css&&!$.cr.fonts[b.id]){if(!$.select('#'+b.id)){var f=$.mkEl('link');f.rel='stylesheet',f.type='text/css',f.href=b.css,$.isIE()&&(f.href+=(0>f.href.indexOf('?')?'?':'&')+'adl='+Date.now()),f.id=b.id,document.getElementsByTagName('head')[0].appendChild(f)}$.cr.fonts[b.id]=b}this.data('font_id',b.id||b),this.style('fontFamily',b.family||b,'_base')},$.fn.lineHeight=function(b,f,g){if($.undef(f)){var h=this.style(b);if(-1<h.indexOf('px')){var j=parseFloat(this.style('fontSize'));h=parseFloat(h)/j}return Math.round(10*parseFloat(h))/10}this.style(b,f,g)},$.fn.mkObj_svgshape=function(b){$.ruleIndex.svg=' path',b.el().innerHTML='<svg class="adl-obj-content" width="100%" height="100%" viewBox="0 0 120 120" preserveAspectRatio="none"><path/></svg>'},$.fn.svgshape=function(b,f){return'svgshape'!=b&&(f=b),$.undef(f)?$.cr.versionData(this.key()):(this.each(function(){var g=adl(this);if('svgshape'==g.type()){$.cr.versionData(g.key(),f);var h=120,j=120,k=f.split(':');3==k.length&&(h=k[0],j=k[1],f=k[2]),this.firstChild.setAttribute('viewBox','0 0 '+h+' '+j),this.firstChild.firstChild.setAttribute('d',f)}}),this)},$.fn.mkObj_image=function(b){$.ruleIndex.img=' .adl-img';var f=$.mkEl();f.className='adl-obj-content',b.el().appendChild(f)},$.fn.image=function(b,f){if('image'!=b&&(f=b),$.undef(f))return JSON.parse($.cr.versionData(this.key())||'{}');if('object'!=typeof f)try{f=JSON.parse(f)}catch(g){f={path:f}}return f=JSON.stringify(f),this.each(function(){var g=adl(this);'image'==g.type()&&($.cr.versionData(g.key(),f),g.loadImage())}),this},$.fn.loadImage=function(){return this.each(function(){var b,f=adl(this),g=f.key(),h=JSON.parse($.cr.versionData(g));if(h.path)b=h.path;else{var j=$.cr.getObjData(g).data||{},l='',m=j.imgQual&&100>j.imgQual?'q'+parseInt(j.imgQual||100).toString(16)+'/':'',q=j.imgFmt||'_base';h.format&&'_base'!=h.format&&(q=h.format),j.imgCrop,j.imgResize&&(l='s'+parseInt(j.imgWidth).toString(16)+'-'+parseInt(j.imgHeight).toString(16)+'/');var b=$.asseturl+h.id+'/'+q+'/'+m+l+''+h.filename}var r=new Image;r.dataset.key=g,r.src=b,$.cr.images[g]=1,r.onload=function(){var w=adl(this).key();delete $.cr.images[w]},f.el().firstChild.style.backgroundImage='url('+b+')'}),this},$.fn.mkObj_shape=function(b){var f=$.mkEl();f.className='adl-obj-content',b.el().appendChild(f)},$.makeSheet=function(){var b=document,f=this.mkKey(),g=$.mkEl('style');for(var h in g.type='text/css',g.title=f,b.head.appendChild(g),b.styleSheets)if(b.styleSheets[h].title==f)return b.styleSheets[h];return!1},$.fn.at=function(b,f){EvBus.add(b,f,this)};var AdlEventBus={};AdlEventBus=function(){this.listeners={}},AdlEventBus.prototype={add:function(b,f,g){for(var h=[],j=arguments.length,k=0;k<j;k++)h.push(arguments[k]);h=3<h.length?h.splice(3,h.length-1):[],$.undef(this.listeners[b])?this.listeners[b]=[{scope:g,callback:f,args:h}]:this.listeners[b].push({scope:g,callback:f,args:h})},send:function(b){var f=parseInt(performance.now()-$.cr.time.start),g={event:b,scene:$.cr.scene,loop:$.cr.loop,dur:f};'scene'==b&&this.send('scene_'+g.scene);for(var h=[],j=arguments.length,k=0;k<j;k++)h.push(arguments[k]);if(h=2<h.length?h.splice(2,h.length-1):[],h=[g].concat(h),!$.undef(this.listeners[b]))for(var q,l=this.listeners[b].slice(),m=l.length,k=0;k<m;k++)if(q=l[k],q&&q.callback){h.concat(q.args);q.callback.apply(q.scope,[g])}}};var EvBus=new AdlEventBus,performance=performance||{now:function(){return+Date.now()}};